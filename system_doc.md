# ğŸ¯ Cursor AI å¼€å‘æ‰§è¡ŒæŒ‡å—

> **ç»™Cursorçš„é‡è¦æç¤º**: æœ¬æ–‡æ¡£åŒ…å«å®Œæ•´éœ€æ±‚å®šä¹‰ã€‚è¯·ä¸¥æ ¼æŒ‰ç…§æ–‡æ¡£æ‰§è¡Œï¼Œä¸è¦è‡ªè¡Œæ‰©å±•åŠŸèƒ½ã€ä¸è¦ä¿®æ”¹éœ€æ±‚ã€ä¸è¦æ·»åŠ æœªæåŠçš„æŠ€æœ¯ã€‚æ‰€æœ‰éœ€æ±‚å·²å®Œæ•´ï¼Œè¯·é€æ­¥å®ç°ã€‚

---

## ğŸ“Œ å¦‚ä½•ä½¿ç”¨æœ¬å¼€å‘æ–‡æ¡£

### âœ… æ­£ç¡®çš„ä½¿ç”¨æ–¹å¼

1. **æŒ‰é˜¶æ®µæ‰§è¡Œ**: ä¸¥æ ¼æŒ‰ç…§"Cursorå¼€å‘æç¤ºè¯"çš„é¡ºåºæ‰§è¡Œï¼Œæ¯ä¸ªé˜¶æ®µå®Œæˆåå†è¿›å…¥ä¸‹ä¸€é˜¶æ®µ
2. **å®Œæ•´å¤åˆ¶**: å°†æ¯ä¸ªæç¤ºè¯å®Œæ•´å¤åˆ¶ç»™Cursorï¼Œä¸è¦ä¿®æ”¹æˆ–ç®€åŒ–
3. **ç­‰å¾…å®Œæˆ**: æ¯ä¸ªæç¤ºè¯æ‰§è¡Œå®Œæˆåï¼ŒéªŒè¯åŠŸèƒ½æ­£å¸¸å†ç»§ç»­
4. **ä¸è¦è”æƒ³**: Cursoråªå®ç°æ–‡æ¡£ä¸­æ˜ç¡®è¦æ±‚çš„åŠŸèƒ½ï¼Œä¸è¦æ·»åŠ é¢å¤–åŠŸèƒ½

### âŒ é”™è¯¯çš„ä½¿ç”¨æ–¹å¼

- âŒ ä¸€æ¬¡æ€§æŠŠæ‰€æœ‰æç¤ºè¯ç»™Cursor
- âŒ è‡ªå·±ä¿®æ”¹æç¤ºè¯å†…å®¹
- âŒ è·³è¿‡æŸäº›æ­¥éª¤
- âŒ è®©Cursor"ä¼˜åŒ–"æˆ–"æ”¹è¿›"æœªæ˜ç¡®è¦æ±‚çš„éƒ¨åˆ†
- âŒ è¦æ±‚Cursoræ·»åŠ æ–‡æ¡£ä¸­æ²¡æœ‰çš„åŠŸèƒ½

---

## ğŸ“‹ é¡¹ç›®åŸºæœ¬ä¿¡æ¯

**é¡¹ç›®åç§°**: å‘˜å·¥å¥åº·è¯ç®¡ç†ç³»ç»Ÿ  
**å…¬å¸**: æµ™æ±Ÿè„‰é€šæ™ºé€ ç§‘æŠ€ï¼ˆé›†å›¢ï¼‰æœ‰é™å…¬å¸  
**ç”¨æˆ·è§„æ¨¡**: çº¦1000åå‘˜å·¥  
**éƒ¨ç½²æ–¹å¼**: Dockerå®¹å™¨åŒ–  

**æ ¸å¿ƒåŠŸèƒ½**:
1. å‘˜å·¥ä¸Šä¼ å¥åº·è¯ + OCRè‡ªåŠ¨è¯†åˆ«
2. ç®¡ç†å‘˜å®¡æ ¸å¥åº·è¯
3. è‡ªåŠ¨åˆ°æœŸæé†’(é‚®ä»¶+é’‰é’‰)
4. å‘˜å·¥æ•°æ®è‡ªåŠ¨åŒæ­¥
5. æ•°æ®çœ‹æ¿å’Œå¯¼å‡º

---

## ğŸ—ï¸ æŠ€æœ¯æ ˆ(å·²é”å®šï¼Œä¸å¯å˜æ›´)

**åç«¯**:
- Spring Boot 2.7.x
- MyBatis-Plus 3.5.x
- MySQL 8.0
- JWTè®¤è¯
- OkHttp3(è°ƒç”¨OCR)
- POI(Excelå¯¼å‡º)
- iText(PDFå¯¼å‡º)

**å‰ç«¯**:
- çº¯HTML5 + CSS3(ä¸ä½¿ç”¨ä»»ä½•æ¡†æ¶)
- åŸç”ŸJavaScript ES6+
- Chart.js(æ•°æ®å›¾è¡¨)

**éƒ¨ç½²**:
- Docker + Docker Compose
- Nginxåå‘ä»£ç†

---

## ğŸ“ å®Œæ•´æ–‡æ¡£èµ„æºåŒ…

æˆ‘å·²ä¸ºæ‚¨å‡†å¤‡äº†ä»¥ä¸‹å®Œæ•´æ–‡æ¡£ï¼Œè¯·æŒ‰é¡ºåºæŸ¥é˜…ï¼š

### æ–‡æ¡£1: éœ€æ±‚å’Œæ¶æ„è®¾è®¡
**åŒ…å«å†…å®¹**:
- è¯¦ç»†ä¸šåŠ¡éœ€æ±‚
- ç³»ç»Ÿæ¶æ„å›¾
- æ•°æ®åº“ERå›¾
- ç›®å½•ç»“æ„è®¾è®¡

### æ–‡æ¡£2: æ•°æ®åº“è®¾è®¡SQL
**åŒ…å«å†…å®¹**:
- 8å¼ è¡¨çš„å®Œæ•´å»ºè¡¨è¯­å¥
- æ‰€æœ‰ç´¢å¼•å®šä¹‰
- åˆå§‹æ•°æ®æ’å…¥
- è¿œç¨‹æ•°æ®åº“è¿æ¥ä¿¡æ¯

### æ–‡æ¡£3: APIæ¥å£æ–‡æ¡£  
**åŒ…å«å†…å®¹**:
- 40+ä¸ªAPIæ¥å£å®šä¹‰
- è¯·æ±‚/å“åº”ç¤ºä¾‹
- é”™è¯¯ç å®šä¹‰

### æ–‡æ¡£4: å‰ç«¯é¡µé¢è®¾è®¡
**åŒ…å«å†…å®¹**:
- 11ä¸ªé¡µé¢çš„å¸ƒå±€è®¾è®¡
- äº¤äº’é€»è¾‘è¯´æ˜
- ç§»åŠ¨ç«¯é€‚é…è¦æ±‚

### æ–‡æ¡£5: éƒ¨ç½²æ–‡æ¡£
**åŒ…å«å†…å®¹**:
- Dockeré…ç½®æ–‡ä»¶
- Nginxé…ç½®
- éƒ¨ç½²æ­¥éª¤

### æ–‡æ¡£6: æµ‹è¯•æ–‡æ¡£
**åŒ…å«å†…å®¹**:
- 150+æµ‹è¯•ç”¨ä¾‹
- æµ‹è¯•æ•°æ®å‡†å¤‡
- éªŒæ”¶æ ‡å‡†

---

## ğŸ¯ Cursorå¼€å‘æç¤ºè¯(ä¸¥æ ¼æŒ‰é¡ºåºæ‰§è¡Œ)

### é˜¶æ®µä¸€: é¡¹ç›®åˆå§‹åŒ–(ç¬¬1å¤©)

**æç¤ºè¯1-1: åˆ›å»ºSpring Booté¡¹ç›®ç»“æ„**

```
è¯·åˆ›å»ºä¸€ä¸ªSpring Booté¡¹ç›®,é¡¹ç›®åhealth-cert-backend,è¦æ±‚:

1. ä½¿ç”¨Maven,Spring Bootç‰ˆæœ¬2.7.18
2. åœ¨pom.xmlä¸­æ·»åŠ ä»¥ä¸‹ä¾èµ–(ç²¾ç¡®ç‰ˆæœ¬):
   - spring-boot-starter-web
   - mybatis-plus-boot-starter 3.5.3
   - mysql-connector-java 8.0.33
   - jjwt-api 0.11.5, jjwt-impl 0.11.5, jjwt-jackson 0.11.5
   - lombok
   - hutool-all 5.8.16
   - okhttp3 4.10.0
   - poi 5.2.3, poi-ooxml 5.2.3
   - itextpdf 5.5.13.3
   - spring-boot-starter-mail

3. åˆ›å»ºä»¥ä¸‹åŒ…ç»“æ„:
   com.microport.healthcert.config
   com.microport.healthcert.controller
   com.microport.healthcert.service
   com.microport.healthcert.service.impl
   com.microport.healthcert.mapper
   com.microport.healthcert.entity
   com.microport.healthcert.dto
   com.microport.healthcert.vo
   com.microport.healthcert.common
   com.microport.healthcert.util
   com.microport.healthcert.task
   com.microport.healthcert.interceptor
   com.microport.healthcert.exception

4. åœ¨resourcesä¸‹åˆ›å»º:
   - application.yml
   - mapperç›®å½•
   - sqlç›®å½•(åŒ…å«schema.sqlå’Œdata.sql)

5. æ‰€æœ‰ä»£ç æ·»åŠ è¯¦ç»†ä¸­æ–‡æ³¨é‡Š

è¯·åªåˆ›å»ºé¡¹ç›®ç»“æ„å’Œpom.xml,ä¸è¦å®ç°ä»»ä½•ä¸šåŠ¡é€»è¾‘ã€‚
```

**æç¤ºè¯1-2: åˆ›å»ºç»Ÿä¸€å“åº”å’Œé…ç½®ç±»**

```
è¯·åˆ›å»ºä»¥ä¸‹åŸºç¡€ç±»(ä¸¥æ ¼æŒ‰ç…§è¦æ±‚,ä¸è¦æ·»åŠ é¢å¤–åŠŸèƒ½):

1. com.microport.healthcert.common.Result.java
   - ç»Ÿä¸€å“åº”ç±»,åŒ…å«code, message, data, timestampå­—æ®µ
   - æä¾›success()å’Œerror()é™æ€æ–¹æ³•

2. com.microport.healthcert.common.ResultCode.java
   - æšä¸¾ç±»,å®šä¹‰å“åº”ç :
     SUCCESS(200), BAD_REQUEST(400), UNAUTHORIZED(401), 
     FORBIDDEN(403), NOT_FOUND(404), SERVER_ERROR(500)

3. com.microport.healthcert.exception.GlobalExceptionHandler.java
   - å…¨å±€å¼‚å¸¸å¤„ç†ç±»
   - å¤„ç†Exceptionè¿”å›ç»Ÿä¸€é”™è¯¯å“åº”

4. com.microport.healthcert.config.CorsConfig.java
   - è·¨åŸŸé…ç½®,å…è®¸æ‰€æœ‰æ¥æº

5. application.ymlåŸºç¡€é…ç½®:
   ```yaml
   server:
     port: 8080
   spring:
     datasource:
       driver-class-name: com.mysql.cj.jdbc.Driver
       url: jdbc:mysql://localhost:3306/health_cert_db?useUnicode=true&characterEncoding=utf-8&serverTimezone=Asia/Shanghai
       username: root
       password: root123
   mybatis-plus:
     mapper-locations: classpath:mapper/*.xml
     type-aliases-package: com.microport.healthcert.entity
     configuration:
       map-underscore-to-camel-case: true
   jwt:
     secret: microport-health-cert-secret-2024
     expiration: 86400000
   ```

æ‰€æœ‰ç±»æ·»åŠ è¯¦ç»†æ³¨é‡Š,ä¸è¦æ·»åŠ é¢å¤–æ–¹æ³•ã€‚
```

**æç¤ºè¯1-3: åˆ›å»ºæ•°æ®åº“è¡¨**

```
è¯·åœ¨resources/sql/schema.sqlä¸­åˆ›å»ºä»¥ä¸‹8å¼ è¡¨(ä¸¥æ ¼æŒ‰ç…§SQL):

[ç²˜è´´å®Œæ•´çš„8å¼ è¡¨SQL - ä»ä¹‹å‰çš„æ–‡æ¡£ä¸­å¤åˆ¶]

è¦æ±‚:
1. æ¯å¼ è¡¨éƒ½è¦æœ‰è¯¦ç»†çš„å­—æ®µæ³¨é‡Š
2. åˆ›å»ºæ‰€æœ‰å¿…è¦çš„ç´¢å¼•
3. å­—ç¬¦é›†ç»Ÿä¸€ä½¿ç”¨utf8mb4
4. å¼•æ“ç»Ÿä¸€ä½¿ç”¨InnoDB

ç„¶ååœ¨data.sqlä¸­æ’å…¥åˆå§‹æ•°æ®:
- 1ä¸ªè¶…çº§ç®¡ç†å‘˜: admin/admin123
- 1ä¸ªæ ¹éƒ¨é—¨: æµ™æ±Ÿè„‰é€šæ™ºé€ ç§‘æŠ€(é›†å›¢)æœ‰é™å…¬å¸
- ç³»ç»Ÿé…ç½®çš„åˆå§‹å€¼

ä¸è¦åˆ›å»ºæµ‹è¯•æ•°æ®ã€‚
```

### é˜¶æ®µäºŒ: å®ä½“ç±»å’ŒMapper(ç¬¬1-2å¤©)

**æç¤ºè¯2-1: åˆ›å»ºå®ä½“ç±»**

```
è¯·ä¸º8å¼ æ•°æ®åº“è¡¨åˆ›å»ºå¯¹åº”çš„å®ä½“ç±»,è¦æ±‚:

1. ä½¿ç”¨Lombokæ³¨è§£(@Data, @TableNameç­‰)
2. ä½¿ç”¨MyBatis-Plusæ³¨è§£(@TableId, @TableFieldç­‰)
3. å­—æ®µåä½¿ç”¨é©¼å³°å‘½å
4. æ¯ä¸ªå­—æ®µæ·»åŠ æ³¨é‡Š
5. ä¸è¦æ·»åŠ é¢å¤–çš„å­—æ®µæˆ–æ–¹æ³•

å®ä½“ç±»æ¸…å•:
- Employee.java (å¯¹åº”employeesè¡¨)
- HealthCertificate.java (å¯¹åº”health_certificatesè¡¨)
- Department.java (å¯¹åº”departmentsè¡¨)
- Admin.java (å¯¹åº”adminsè¡¨)
- OperationLog.java (å¯¹åº”operation_logsè¡¨)
- SystemConfig.java (å¯¹åº”system_configsè¡¨)
- AuditLock.java (å¯¹åº”audit_locksè¡¨)
- HrSync.java (å¯¹åº”è¿œç¨‹hr_syncè¡¨,æ”¾åœ¨entity.remoteåŒ…ä¸‹)

åªåˆ›å»ºå®ä½“ç±»,ä¸è¦åˆ›å»ºä»»ä½•å…¶ä»–ä»£ç ã€‚
```

**æç¤ºè¯2-2: åˆ›å»ºMapperæ¥å£**

```
è¯·ä¸ºæ¯ä¸ªå®ä½“ç±»åˆ›å»ºå¯¹åº”çš„Mapperæ¥å£,è¦æ±‚:

1. ç»§æ‰¿BaseMapper<å®ä½“ç±»>
2. ä½¿ç”¨@Mapperæ³¨è§£
3. æ·»åŠ æ¥å£æ³¨é‡Š
4. ä¸è¦æ·»åŠ è‡ªå®šä¹‰æ–¹æ³•(ä½¿ç”¨MyBatis-Plusè‡ªå¸¦æ–¹æ³•å³å¯)

Mapperæ¸…å•:
- EmployeeMapper.java
- HealthCertificateMapper.java
- DepartmentMapper.java
- AdminMapper.java
- OperationLogMapper.java
- SystemConfigMapper.java
- AuditLockMapper.java
- HrSyncMapper.java (è¿œç¨‹æ•°æ®åº“,éœ€è¦é…ç½®ç¬¬äºŒæ•°æ®æº)

åªåˆ›å»ºMapperæ¥å£,ä¸è¦åˆ›å»ºServiceå±‚ã€‚
```

**æç¤ºè¯2-3: é…ç½®åŒæ•°æ®æº**

```
è¯·åˆ›å»ºåŒæ•°æ®æºé…ç½®,è¦æ±‚:

1. åˆ›å»ºRemoteDataSourceConfig.javaé…ç½®ç±»
2. ä¸»æ•°æ®æº: æœ¬åœ°health_cert_db(é»˜è®¤)
3. ä»æ•°æ®æº: è¿œç¨‹proposal_improvementæ•°æ®åº“
   - Host: 10.11.100.202
   - Port: 3306
   - Database: proposal_improvement
   - Username: root
   - Password: Mtdb@123
   - åªè¯»æ¨¡å¼

4. HrSyncMapperä½¿ç”¨ä»æ•°æ®æº
5. å…¶ä»–Mapperä½¿ç”¨ä¸»æ•°æ®æº

æ·»åŠ è¯¦ç»†é…ç½®æ³¨é‡Š,ä¸è¦æ·»åŠ é¢å¤–åŠŸèƒ½ã€‚
```

### é˜¶æ®µä¸‰: è®¤è¯æˆæƒæ¨¡å—(ç¬¬2å¤©)

**æç¤ºè¯3-1: å®ç°JWTå·¥å…·ç±»**

```
è¯·åˆ›å»ºJWTå·¥å…·ç±»com.microport.healthcert.util.JwtUtil,è¦æ±‚:

æä¾›ä»¥ä¸‹æ–¹æ³•:
1. generateToken(Long userId, String username, String userType) - ç”Ÿæˆtoken
2. getUserIdFromToken(String token) - ä»tokenè·å–userId
3. getUsernameFromToken(String token) - ä»tokenè·å–username
4. getUserTypeFromToken(String token) - ä»tokenè·å–ç”¨æˆ·ç±»å‹
5. validateToken(String token) - éªŒè¯tokenæœ‰æ•ˆæ€§
6. isTokenExpired(String token) - åˆ¤æ–­tokenæ˜¯å¦è¿‡æœŸ

ä½¿ç”¨application.ymlä¸­çš„jwt.secretå’Œjwt.expirationé…ç½®ã€‚
æ·»åŠ è¯¦ç»†æ³¨é‡Š,ä¸è¦æ·»åŠ é¢å¤–æ–¹æ³•ã€‚
```

**æç¤ºè¯3-2: å®ç°è®¤è¯Serviceå’ŒController**

```
è¯·åˆ›å»ºè®¤è¯ç›¸å…³ä»£ç ,è¦æ±‚:

1. AuthService.java æä¾›ä»¥ä¸‹æ–¹æ³•:
   - login(String username, String password) - ç™»å½•é€»è¾‘
     * å…ˆæŸ¥æœ¬åœ°adminsè¡¨
     * å¦‚æœä¸å­˜åœ¨,å†æŸ¥è¿œç¨‹hr_syncè¡¨(é€šè¿‡HrSyncMapper)
     * å¦‚æœæ‰¾åˆ°è¿œç¨‹å‘˜å·¥,åŒæ­¥åˆ°æœ¬åœ°employeesè¡¨
     * è¿”å›LoginVO(åŒ…å«tokenå’Œç”¨æˆ·ä¿¡æ¯)
   - logout(Long userId) - ç™»å‡º(è®°å½•æ—¥å¿—)
   - getCurrentUser(Long userId) - è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯

2. AuthController.java æä¾›ä»¥ä¸‹æ¥å£:
   - POST /api/auth/login - ç™»å½•
   - POST /api/auth/logout - ç™»å‡º
   - GET /api/auth/me - è·å–å½“å‰ç”¨æˆ·

3. åˆ›å»ºLoginDTOå’ŒLoginVO

æ‰€æœ‰æ–¹æ³•æ·»åŠ è¯¦ç»†æ³¨é‡Š,ä¸è¦æ·»åŠ é¢å¤–åŠŸèƒ½ã€‚
ç™»å½•æˆåŠŸåéœ€è¦è®°å½•æ“ä½œæ—¥å¿—ã€‚
```

**æç¤ºè¯3-3: å®ç°JWTæ‹¦æˆªå™¨**

```
è¯·åˆ›å»ºJWTæ‹¦æˆªå™¨,è¦æ±‚:

1. JwtInterceptor.java
   - æ‹¦æˆªæ‰€æœ‰/api/**è¯·æ±‚(é™¤äº†/api/auth/login)
   - ä»è¯·æ±‚å¤´è·å–Authorization: Bearer <token>
   - éªŒè¯tokenæœ‰æ•ˆæ€§
   - å°†userId, username, userTypeå­˜å…¥request attribute
   - tokenæ— æ•ˆè¿”å›401é”™è¯¯

2. WebMvcConfig.java
   - æ³¨å†ŒJwtInterceptor
   - é…ç½®æ‹¦æˆªè·¯å¾„

æ·»åŠ è¯¦ç»†æ³¨é‡Š,ä¸è¦æ·»åŠ é¢å¤–åŠŸèƒ½ã€‚
```

### é˜¶æ®µå››: å¥åº·è¯ç®¡ç†æ¨¡å—(ç¬¬3-4å¤©)

**æç¤ºè¯4-1: å®ç°æ–‡ä»¶ä¸Šä¼ å’ŒOCRæœåŠ¡**

```
è¯·åˆ›å»ºæ–‡ä»¶ä¸Šä¼ å’ŒOCRç›¸å…³ä»£ç ,è¦æ±‚:

1. OcrService.java
   - callOcrApi(File imageFile) - è°ƒç”¨OCRæœåŠ¡
     * ä½¿ç”¨OkHttp3å‘é€POSTè¯·æ±‚åˆ° http://10.11.100.238:8081/predict
     * Content-Type: multipart/form-data
     * å­—æ®µå: image
     * è§£æè¿”å›çš„JSON,æå–rec_textså­—æ®µ
     * ä»è¯†åˆ«æ–‡æœ¬ä¸­æå–å¥åº·è¯å­—æ®µ(ç¼–å·ã€å§“åã€æ€§åˆ«ç­‰)
   - parseOcrResult(String ocrJson) - è§£æOCRç»“æœä¸ºHealthCertDTO
   
2. FileUtil.java
   - saveFile(MultipartFile file, String uploadDir) - ä¿å­˜æ–‡ä»¶
     * ç”ŸæˆUUIDæ–‡ä»¶å
     * åˆ›å»ºæ—¥æœŸç›®å½•(uploads/2024/12/)
     * è¿”å›ç›¸å¯¹è·¯å¾„
   - validateImage(MultipartFile file) - éªŒè¯å›¾ç‰‡
     * æ£€æŸ¥æ–‡ä»¶ç±»å‹(jpg/png/bmp)
     * æ£€æŸ¥æ–‡ä»¶å¤§å°(< 10MB)

3. HealthCertController.java (å‘˜å·¥ç«¯)
   - POST /api/health-cert/upload - ä¸Šä¼ å›¾ç‰‡
     * ä¿å­˜æ–‡ä»¶
     * è°ƒç”¨OCRè¯†åˆ«
     * è¿”å›å›¾ç‰‡è·¯å¾„å’ŒOCRç»“æœ
   - POST /api/health-cert/submit - æäº¤å¥åº·è¯
     * éªŒè¯ç¼–å·å”¯ä¸€æ€§
     * éªŒè¯æ‰€æœ‰å¿…å¡«å­—æ®µ
     * ä¿å­˜å¥åº·è¯è®°å½•(çŠ¶æ€ä¸ºpending)
     * è®°å½•æ“ä½œæ—¥å¿—
   - GET /api/health-cert/my-list - æŸ¥è¯¢æˆ‘çš„å¥åº·è¯

æ·»åŠ è¯¦ç»†æ³¨é‡Šå’Œå¼‚å¸¸å¤„ç†ã€‚
OCRè°ƒç”¨å¤±è´¥æ—¶,è¿”å›ç©ºç»“æœ,å…è®¸æ‰‹åŠ¨å¡«å†™ã€‚
```

**æç¤ºè¯4-2: å®ç°å®¡æ ¸åŠŸèƒ½**

```
è¯·åˆ›å»ºå¥åº·è¯å®¡æ ¸ç›¸å…³ä»£ç ,è¦æ±‚:

1. AdminHealthCertService.java
   - lockCertificate(Long certId, Long adminId) - é”å®šå¥åº·è¯
     * æ£€æŸ¥æ˜¯å¦å·²è¢«å…¶ä»–ç®¡ç†å‘˜é”å®š
     * åˆ›å»ºaudit_locksè®°å½•(5åˆ†é’Ÿåè¿‡æœŸ)
   - auditCertificate(Long certId, String action, String reason) - å®¡æ ¸
     * action: approve/reject
     * æ›´æ–°å¥åº·è¯çŠ¶æ€
     * é‡Šæ”¾é”
     * è®°å½•å®¡æ ¸äººå’Œæ—¶é—´
     * å‘é€é€šçŸ¥(æš‚æ—¶ä¸å®ç°,ç•™TODO)
   - getPendingList(page, size, filters) - è·å–å¾…å®¡æ ¸åˆ—è¡¨

2. AdminHealthCertController.java
   - GET /api/admin/health-cert/pending - å¾…å®¡æ ¸åˆ—è¡¨
   - POST /api/admin/health-cert/lock/:id - é”å®š
   - POST /api/admin/health-cert/audit/:id - å®¡æ ¸
   - GET /api/admin/health-cert/list - å…¨éƒ¨åˆ—è¡¨(æ”¯æŒç­›é€‰)

æ·»åŠ è¯¦ç»†æ³¨é‡Šã€‚
é”å®šæœºåˆ¶è¦ä¸¥æ ¼,é˜²æ­¢å¹¶å‘å®¡æ ¸ã€‚
```

### é˜¶æ®µäº”: å‘˜å·¥åŒæ­¥æ¨¡å—(ç¬¬4-5å¤©)

**æç¤ºè¯5-1: å®ç°å‘˜å·¥åŒæ­¥Service**

```
è¯·åˆ›å»ºå‘˜å·¥åŒæ­¥æœåŠ¡,è¦æ±‚:

1. SyncService.java
   - syncEmployees() - åŒæ­¥å‘˜å·¥æ•°æ®
     * è®¾ç½®å…¨å±€åŒæ­¥æ ‡å¿—(å­˜å…¥system_configs)
     * æŸ¥è¯¢è¿œç¨‹hr_syncè¡¨å…¨éƒ¨æ•°æ®
     * å¯¹æ¯”æœ¬åœ°employeesè¡¨:
       - è¿œç¨‹æœ‰æœ¬åœ°æ—  â†’ æ–°å¢
       - è¿œç¨‹æœ‰æœ¬åœ°æœ‰ â†’ æ›´æ–°ä¿¡æ¯
       - è¿œç¨‹æ— æœ¬åœ°æœ‰ â†’ æ ‡è®°is_active=0
     * åŒæ­¥éƒ¨é—¨æ•°æ®(æ ¹æ®depart_name_cnå’Œsup_depæ„å»ºéƒ¨é—¨æ ‘)
     * æ¸…é™¤å…¨å±€åŒæ­¥æ ‡å¿—
     * è¿”å›åŒæ­¥ç»“æœ(æ–°å¢æ•°/æ›´æ–°æ•°/ç¦»èŒæ•°)

2. EmployeeSyncTask.java
   - å®šæ—¶ä»»åŠ¡,cronè¡¨è¾¾å¼: 0 0 0,12,18 * * ?
   - è°ƒç”¨SyncService.syncEmployees()
   - è®°å½•æ‰§è¡Œæ—¥å¿—

3. SyncLockInterceptor.java
   - æ£€æŸ¥å…¨å±€åŒæ­¥æ ‡å¿—
   - å¦‚æœæ­£åœ¨åŒæ­¥,è¿”å›503é”™è¯¯å’Œæç¤ºä¿¡æ¯

æ·»åŠ è¯¦ç»†æ³¨é‡Šå’Œå¼‚å¸¸å¤„ç†ã€‚
åŒæ­¥å¤±è´¥è¦è®°å½•é”™è¯¯æ—¥å¿—ã€‚
```

### é˜¶æ®µå…­: æé†’æœåŠ¡æ¨¡å—(ç¬¬5-6å¤©)

**æç¤ºè¯6-1: å®ç°é‚®ä»¶æœåŠ¡**

```
è¯·åˆ›å»ºé‚®ä»¶æœåŠ¡,è¦æ±‚:

1. EmailService.java
   - sendEmail(String to, String subject, String content) - å‘é€é‚®ä»¶
     * ä½¿ç”¨Springçš„JavaMailSender
     * SMTPé…ç½®ä»system_configsè¡¨è¯»å–
   - sendReminderEmail(Employee employee, HealthCertificate cert) - å‘é€æé†’
     * ä»system_configsè¯»å–é‚®ä»¶æ¨¡æ¿
     * æ›¿æ¢æ¨¡æ¿å˜é‡{name}, {certNumber}, {expiryDate}
     * å¦‚æœå‘˜å·¥æ— é‚®ç®±,å‘ç»™ä¸»ç®¡
     * ä¸»ç®¡ä¹Ÿæ— é‚®ç®±,å‘ç»™ç³»ç»Ÿç®¡ç†å‘˜

2. é…ç½®ä»system_configsè¡¨è¯»å–:
   - email.smtp.host
   - email.smtp.port
   - email.username
   - email.password
   - email.subject.template
   - email.content.template

æ·»åŠ è¯¦ç»†æ³¨é‡Šå’Œé”™è¯¯å¤„ç†ã€‚
å‘é€å¤±è´¥è®°å½•æ—¥å¿—,ä¸æŠ›å¼‚å¸¸ã€‚
```

**æç¤ºè¯6-2: å®ç°é’‰é’‰æœåŠ¡**

```
è¯·åˆ›å»ºé’‰é’‰æœåŠ¡,è¦æ±‚:

1. DingTalkService.java
   - getAccessToken() - è·å–access_token
     * ä»system_configsè¯»å–dingtalk.corp_idå’Œdingtalk.app_secret
     * è°ƒç”¨é’‰é’‰APIè·å–token
     * ç¼“å­˜token(2å°æ—¶)
   - getUserIdByMobile(String mobile) - æ ¹æ®æ‰‹æœºå·è·å–userid
   - sendWorkMessage(String userId, String content) - å‘é€å·¥ä½œé€šçŸ¥
     * markdownæ ¼å¼
     * å†…å®¹åŒ…å«å¥åº·è¯ä¿¡æ¯

2. ReminderService.java
   - sendReminders() - å‘é€æé†’
     * æŸ¥è¯¢å³å°†åˆ°æœŸçš„å¥åº·è¯(30/15/7/3/1å¤©)
     * æŸ¥è¯¢å·²è¿‡æœŸçš„å¥åº·è¯(æ¯å‘¨æé†’ä¸€æ¬¡)
     * è°ƒç”¨EmailServiceå’ŒDingTalkServiceå‘é€
     * è®°å½•å‘é€æ—¥å¿—

3. ReminderTask.java
   - å®šæ—¶ä»»åŠ¡,cron: 0 0 9 * * ? (æ¯å¤©9ç‚¹)
   - è°ƒç”¨ReminderService.sendReminders()

æ·»åŠ è¯¦ç»†æ³¨é‡Šå’Œå¼‚å¸¸å¤„ç†ã€‚
```

### é˜¶æ®µä¸ƒ: æ•°æ®çœ‹æ¿å’Œå¯¼å‡º(ç¬¬6-7å¤©)

**æç¤ºè¯7-1: å®ç°æ•°æ®çœ‹æ¿**

```
è¯·åˆ›å»ºæ•°æ®çœ‹æ¿åŠŸèƒ½,è¦æ±‚:

1. DashboardService.java
   - getOverviewStatistics() - æ¦‚è§ˆç»Ÿè®¡
     * æ€»å‘˜å·¥æ•°ã€åœ¨èŒæ•°
     * å·²æäº¤ã€å¾…å®¡æ ¸ã€å·²é€šè¿‡æ•°
     * å³å°†åˆ°æœŸæ•°(30/15/7å¤©)
     * å·²è¿‡æœŸæ•°
     * è¦†ç›–ç‡
   - getChartData(String chartType) - å›¾è¡¨æ•°æ®
     * chartType=status: çŠ¶æ€åˆ†å¸ƒé¥¼å›¾æ•°æ®
     * chartType=department: éƒ¨é—¨ç»Ÿè®¡æŸ±çŠ¶å›¾æ•°æ®
     * chartType=frontline: ä¸€çº¿/éä¸€çº¿ç»Ÿè®¡

2. DashboardController.java
   - GET /api/admin/dashboard/overview
   - GET /api/admin/dashboard/charts?chartType=xxx

æ·»åŠ è¯¦ç»†æ³¨é‡Šã€‚
SQLæŸ¥è¯¢è¦ä¼˜åŒ–,ä½¿ç”¨ç´¢å¼•ã€‚
```

**æç¤ºè¯7-2: å®ç°å¯¼å‡ºåŠŸèƒ½**

```
è¯·åˆ›å»ºå¯¼å‡ºåŠŸèƒ½,è¦æ±‚:

1. ExportService.java
   - exportExcel(filters, includeImages) - å¯¼å‡ºExcel
     * ä½¿ç”¨POIåˆ›å»ºExcel
     * å¦‚æœincludeImages=true,åµŒå…¥å¥åº·è¯å›¾ç‰‡
     * ç”Ÿæˆä¸´æ—¶æ–‡ä»¶(downloadsç›®å½•)
     * è¿”å›ä¸‹è½½URL(1å°æ—¶åè¿‡æœŸ)
   - exportPdf(filters, includeImages) - å¯¼å‡ºPDF
     * ä½¿ç”¨iTextåˆ›å»ºPDF
     * åµŒå…¥å¥åº·è¯å›¾ç‰‡

2. AdminHealthCertController.java
   - POST /api/admin/health-cert/export
     * æ¥æ”¶filterså’Œformatå‚æ•°
     * è°ƒç”¨ExportService
     * è¿”å›ä¸‹è½½URL

æ·»åŠ è¯¦ç»†æ³¨é‡Šã€‚
å¤§æ•°æ®é‡å¯¼å‡ºè¦è€ƒè™‘æ€§èƒ½ã€‚
```

### é˜¶æ®µå…«: ç³»ç»Ÿé…ç½®å’Œæ—¥å¿—(ç¬¬7å¤©)

**æç¤ºè¯8-1: å®ç°ç³»ç»Ÿé…ç½®**

```
è¯·åˆ›å»ºç³»ç»Ÿé…ç½®ç®¡ç†,è¦æ±‚:

1. ConfigService.java
   - getEmailConfig() - è·å–é‚®ä»¶é…ç½®
   - saveEmailConfig(configDTO) - ä¿å­˜é‚®ä»¶é…ç½®
   - testEmail(toEmail) - æµ‹è¯•é‚®ä»¶å‘é€
   - getDingTalkConfig() - è·å–é’‰é’‰é…ç½®
   - saveDingTalkConfig(configDTO) - ä¿å­˜é’‰é’‰é…ç½®
   - getReminderConfig() - è·å–æé†’è§„åˆ™
   - saveReminderConfig(configDTO) - ä¿å­˜æé†’è§„åˆ™

2. ConfigController.java
   - GET /api/admin/config/email
   - POST /api/admin/config/email
   - POST /api/admin/config/email/test
   - GET /api/admin/config/dingtalk
   - POST /api/admin/config/dingtalk
   - GET /api/admin/config/reminder
   - POST /api/admin/config/reminder

æ·»åŠ è¯¦ç»†æ³¨é‡Šã€‚
ä¿å­˜é…ç½®åè®°å½•æ“ä½œæ—¥å¿—ã€‚
```

**æç¤ºè¯8-2: å®ç°æ“ä½œæ—¥å¿—**

```
è¯·å®Œå–„æ“ä½œæ—¥å¿—åŠŸèƒ½,è¦æ±‚:

1. OperationLogService.java
   - saveLog(userId, userName, userType, operation, description) - ä¿å­˜æ—¥å¿—
   - queryLogs(page, size, filters) - æŸ¥è¯¢æ—¥å¿—
   - exportLogs(filters) - å¯¼å‡ºæ—¥å¿—

2. LogInterceptor.java
   - æ‹¦æˆªæ‰€æœ‰è¯·æ±‚
   - è®°å½•è¯·æ±‚URLã€æ–¹æ³•ã€å‚æ•°ã€IP
   - è®°å½•å“åº”ç»“æœå’Œè€—æ—¶

3. OperationLogController.java
   - GET /api/admin/logs/list
   - POST /api/admin/logs/export

æ·»åŠ è¯¦ç»†æ³¨é‡Šã€‚
æ—¥å¿—ä¿ç•™1å¹´,å®šæœŸæ¸…ç†ã€‚
```

### é˜¶æ®µä¹: å‰ç«¯é¡µé¢(ç¬¬8-9å¤©)

**æç¤ºè¯9-1: åˆ›å»ºç™»å½•é¡µé¢**

```
è¯·åˆ›å»ºlogin.html,è¦æ±‚:

1. å¸ƒå±€:
   - å±…ä¸­çš„ç™»å½•æ¡†
   - å…¬å¸LOGO(ä½¿ç”¨/assets/logo.png)
   - è´¦å·å¯†ç è¾“å…¥æ¡†
   - ç™»å½•æŒ‰é’®

2. æ ·å¼:
   - è“è‰²ç§‘æŠ€é£æ ¼
   - æ¸å˜èƒŒæ™¯
   - åœ†è§’å¡ç‰‡
   - å“åº”å¼å¸ƒå±€(é€‚é…ç§»åŠ¨ç«¯)

3. åŠŸèƒ½:
   - è°ƒç”¨POST /api/auth/login
   - ç™»å½•æˆåŠŸä¿å­˜tokenåˆ°localStorage
   - æ ¹æ®userTypeè·³è½¬:
     * admin â†’ admin-dashboard.html
     * employee â†’ employee-home.html

ä½¿ç”¨çº¯HTML+CSS+JS,ä¸ä½¿ç”¨ä»»ä½•æ¡†æ¶ã€‚
æ·»åŠ æ³¨é‡Š,ä»£ç æ¸…æ™°æ˜“è¯»ã€‚
```

**æç¤ºè¯9-2: åˆ›å»ºå‘˜å·¥ç«¯é¡µé¢**

```
è¯·åˆ›å»ºå‘˜å·¥ç«¯é¡µé¢,è¦æ±‚:

1. employee-home.html - å‘˜å·¥é¦–é¡µ
   - æ˜¾ç¤ºå½“å‰å¥åº·è¯çŠ¶æ€
   - ä¸Šä¼ å¥åº·è¯æŒ‰é’®
   - å†å²è®°å½•åˆ—è¡¨

2. upload-certificate.html - ä¸Šä¼ å¥åº·è¯
   - å›¾ç‰‡ä¸Šä¼ (æ”¯æŒæ‹–æ‹½)
   - è°ƒç”¨/api/health-cert/upload
   - OCRç»“æœè‡ªåŠ¨å¡«å……è¡¨å•
   - æ‰€æœ‰å­—æ®µå¯æ‰‹åŠ¨ä¿®æ”¹
   - æäº¤æŒ‰é’®è°ƒç”¨/api/health-cert/submit

3. ç§»åŠ¨ç«¯é€‚é…:
   - æ”¯æŒæ‹ç…§ä¸Šä¼ 
   - å¤§æŒ‰é’®æ˜“ç‚¹å‡»
   - å­—ä½“é€‚é…å±å¹•

ä½¿ç”¨çº¯HTML+CSS+JSã€‚
æ·»åŠ è¯¦ç»†æ³¨é‡Šã€‚
```

**æç¤ºè¯9-3: åˆ›å»ºç®¡ç†å‘˜ç«¯é¡µé¢**

```
è¯·åˆ›å»ºç®¡ç†å‘˜ç«¯é¡µé¢,è¦æ±‚:

1. admin-dashboard.html - å·¥ä½œå°
   - å·¦ä¾§å¯¼èˆªæ (å¯æŠ˜å )
   - é¡¶éƒ¨ç»Ÿè®¡å¡ç‰‡
   - Chart.jsé¥¼å›¾å’ŒæŸ±çŠ¶å›¾

2. cert-audit.html - å¥åº·è¯å®¡æ ¸
   - å¾…å®¡æ ¸åˆ—è¡¨
   - ç‚¹å‡»å®¡æ ¸å¼¹å‡ºæ¨¡æ€æ¡†
   - æ˜¾ç¤ºå›¾ç‰‡å’Œä¿¡æ¯
   - é€šè¿‡/æ‹’ç»æŒ‰é’®

3. system-config.html - ç³»ç»Ÿé…ç½®
   - é‚®ä»¶é…ç½®è¡¨å•
   - é’‰é’‰é…ç½®è¡¨å•
   - æé†’è§„åˆ™é…ç½®
   - æµ‹è¯•æŒ‰é’®

4. å…¶ä»–é¡µé¢:
   - employee-management.html
   - department-management.html
   - operation-logs.html

ä½¿ç”¨çº¯HTML+CSS+JSã€‚
å·¦ä¾§å¯¼èˆªç»Ÿä¸€,æ”¯æŒæŠ˜å ã€‚
```

**æç¤ºè¯9-4: åˆ›å»ºå…¬å…±JS**

```
è¯·åˆ›å»ºå…¬å…±JavaScriptæ–‡ä»¶,è¦æ±‚:

1. js/api.js - APIå°è£…
   - å°è£…fetchè¯·æ±‚
   - è‡ªåŠ¨æ·»åŠ JWT token
   - ç»Ÿä¸€é”™è¯¯å¤„ç†
   - 401è‡ªåŠ¨è·³è½¬ç™»å½•

2. js/common.js - å…¬å…±å‡½æ•°
   - showLoading() / hideLoading()
   - showMessage(type, message)
   - formatDate(timestamp)
   - logout()

ä½¿ç”¨ES6+è¯­æ³•ã€‚
æ·»åŠ è¯¦ç»†æ³¨é‡Šã€‚
```

### é˜¶æ®µå: Dockeréƒ¨ç½²(ç¬¬9-10å¤©)

**æç¤ºè¯10-1: åˆ›å»ºDockerfile**

```
è¯·åˆ›å»ºDockeré…ç½®æ–‡ä»¶,è¦æ±‚:

1. backend/Dockerfile
   - å¤šé˜¶æ®µæ„å»º
   - ç¬¬ä¸€é˜¶æ®µ: Mavenç¼–è¯‘
   - ç¬¬äºŒé˜¶æ®µ: JREè¿è¡Œç¯å¢ƒ
   - æš´éœ²8080ç«¯å£

2. docker-compose.yml
   - mysqlæœåŠ¡(8.0)
   - backendæœåŠ¡(ä¾èµ–mysql)
   - nginxæœåŠ¡(ä¾èµ–backend)
   - ç½‘ç»œé…ç½®
   - å·æŒ‚è½½(mysqlæ•°æ®ã€uploadsã€backups)

3. docker/nginx/nginx.conf
   - ç›‘å¬80ç«¯å£
   - /apiä»£ç†åˆ°backend:8080
   - å…¶ä»–è¯·æ±‚æ‰˜ç®¡é™æ€æ–‡ä»¶
   - GZIPå‹ç¼©

æ·»åŠ è¯¦ç»†æ³¨é‡Šã€‚
```

**æç¤ºè¯10-2: åˆ›å»ºéƒ¨ç½²æ–‡æ¡£**

```
è¯·åˆ›å»ºREADME.mdéƒ¨ç½²æ–‡æ¡£,åŒ…å«:

1. é¡¹ç›®ä»‹ç»
2. ç¯å¢ƒè¦æ±‚
3. å¿«é€Ÿå¼€å§‹:
   - git clone
   - é…ç½®.env
   - docker-compose up -d
4. è®¿é—®åœ°å€å’Œé»˜è®¤è´¦å·
5. å¸¸ç”¨å‘½ä»¤
6. æ•…éšœæ’æŸ¥

æ–‡æ¡£æ¸…æ™°æ˜“æ‡‚,æ­¥éª¤è¯¦ç»†ã€‚
```

---

## âš ï¸ å…³é”®æ³¨æ„äº‹é¡¹

### ä¸¥æ ¼ç¦æ­¢çš„è¡Œä¸º

1. âŒ **ä¸è¦æ·»åŠ æœªè¦æ±‚çš„åŠŸèƒ½**: å¦‚æƒé™ç®¡ç†ç³»ç»Ÿã€å¤šç§Ÿæˆ·ã€å›½é™…åŒ–ç­‰
2. âŒ **ä¸è¦ä¿®æ”¹æŠ€æœ¯æ ˆ**: ä¸è¦ç”¨Vue/Reactã€ä¸è¦ç”¨Spring Securityç­‰
3. âŒ **ä¸è¦è¿‡åº¦è®¾è®¡**: ä¸è¦æ·»åŠ å¤æ‚çš„è®¾è®¡æ¨¡å¼ã€ä¸è¦è¿‡åº¦æŠ½è±¡
4. âŒ **ä¸è¦ä¿®æ”¹æ•°æ®åº“ç»“æ„**: ä¸¥æ ¼æŒ‰ç…§æä¾›çš„SQLåˆ›å»ºè¡¨
5. âŒ **ä¸è¦è‡ªå·±"ä¼˜åŒ–"**: ä¸è¦æ”¹è¿›UIã€ä¸è¦ä¼˜åŒ–ç®—æ³•(é™¤éæ˜ç¡®è¦æ±‚)
6. âŒ **ä¸è¦ä½¿ç”¨æœªå£°æ˜çš„ä¾èµ–**: åªä½¿ç”¨pom.xmlä¸­åˆ—å‡ºçš„ä¾èµ–

### å¿…é¡»éµå®ˆçš„åŸåˆ™

1. âœ… **ä¸¥æ ¼æŒ‰æç¤ºè¯é¡ºåºæ‰§è¡Œ**: ä¸€ä¸ªä¸€ä¸ªæ¥,ä¸è¦è·³æ­¥
2. âœ… **åªå®ç°æ˜ç¡®è¦æ±‚çš„åŠŸèƒ½**: æ–‡æ¡£æ²¡æåˆ°çš„ä¸€å¾‹ä¸åš
3. âœ… **ä¿æŒä»£ç ç®€å•**: èƒ½ç”¨if-elseå°±ä¸ç”¨è®¾è®¡æ¨¡å¼
4. âœ… **æ·»åŠ è¯¦ç»†æ³¨é‡Š**: æ¯ä¸ªç±»ã€æ¯ä¸ªæ–¹æ³•éƒ½è¦æœ‰ä¸­æ–‡æ³¨é‡Š
5. âœ… **å®Œæ•´çš„é”™è¯¯å¤„ç†**: try-catchåŒ…è£¹å¤–éƒ¨è°ƒç”¨(OCRã€é‚®ä»¶ã€é’‰é’‰)
6. âœ… **éªŒè¯åå†ç»§ç»­**: æ¯ä¸ªé˜¶æ®µå®Œæˆåæµ‹è¯•é€šè¿‡å†è¿›å…¥ä¸‹ä¸€é˜¶æ®µ

---

## ğŸ”§ å¼€å‘è¿‡ç¨‹æ£€æŸ¥æ¸…å•

### ç¬¬1å¤©æ£€æŸ¥é¡¹
- [ ] Spring Booté¡¹ç›®èƒ½æ­£å¸¸å¯åŠ¨
- [ ] pom.xmlä¾èµ–ä¸‹è½½å®Œæˆ
- [ ] æ•°æ®åº“è¿æ¥æˆåŠŸ
- [ ] ç»Ÿä¸€å“åº”ç±»Resultèƒ½æ­£å¸¸ä½¿ç”¨
- [ ] è·¨åŸŸé…ç½®ç”Ÿæ•ˆ

### ç¬¬2å¤©æ£€æŸ¥é¡¹
- [ ] 8ä¸ªå®ä½“ç±»åˆ›å»ºå®Œæˆ
- [ ] 8ä¸ªMapperæ¥å£åˆ›å»ºå®Œæˆ
- [ ] åŒæ•°æ®æºé…ç½®æˆåŠŸ
- [ ] èƒ½æŸ¥è¯¢åˆ°è¿œç¨‹hr_syncè¡¨æ•°æ®
- [ ] JWTå·¥å…·ç±»æµ‹è¯•é€šè¿‡

### ç¬¬3å¤©æ£€æŸ¥é¡¹
- [ ] å‘˜å·¥å’Œç®¡ç†å‘˜éƒ½èƒ½ç™»å½•
- [ ] JWT tokenç”Ÿæˆå’ŒéªŒè¯æ­£å¸¸
- [ ] ç™»å½•åèƒ½è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
- [ ] æ“ä½œæ—¥å¿—è®°å½•æˆåŠŸ

### ç¬¬4å¤©æ£€æŸ¥é¡¹
- [ ] å›¾ç‰‡ä¸Šä¼ æˆåŠŸ
- [ ] OCRæœåŠ¡è°ƒç”¨æˆåŠŸ(æˆ–å¤±è´¥æ—¶å…è®¸æ‰‹åŠ¨å¡«å†™)
- [ ] å¥åº·è¯æäº¤æˆåŠŸ
- [ ] èƒ½æŸ¥è¯¢åˆ°æˆ‘çš„å¥åº·è¯åˆ—è¡¨

### ç¬¬5å¤©æ£€æŸ¥é¡¹
- [ ] ç®¡ç†å‘˜èƒ½çœ‹åˆ°å¾…å®¡æ ¸åˆ—è¡¨
- [ ] å®¡æ ¸é”å®šæœºåˆ¶æ­£å¸¸
- [ ] å®¡æ ¸é€šè¿‡/æ‹’ç»åŠŸèƒ½æ­£å¸¸
- [ ] å¹¶å‘å®¡æ ¸æç¤ºæ­£ç¡®

### ç¬¬6å¤©æ£€æŸ¥é¡¹
- [ ] å‘˜å·¥åŒæ­¥åŠŸèƒ½æ­£å¸¸
- [ ] æ–°å¢ã€æ›´æ–°ã€ç¦»èŒé€»è¾‘æ­£ç¡®
- [ ] éƒ¨é—¨æ ‘æ„å»ºæˆåŠŸ
- [ ] å®šæ—¶ä»»åŠ¡èƒ½æ­£å¸¸è§¦å‘

### ç¬¬7å¤©æ£€æŸ¥é¡¹
- [ ] é‚®ä»¶å‘é€æˆåŠŸ
- [ ] é’‰é’‰æ¶ˆæ¯å‘é€æˆåŠŸ
- [ ] æé†’è§„åˆ™æ‰§è¡Œæ­£ç¡®
- [ ] æ— é‚®ç®±å‘˜å·¥æé†’ç»™ä¸»ç®¡

### ç¬¬8å¤©æ£€æŸ¥é¡¹
- [ ] æ•°æ®çœ‹æ¿ç»Ÿè®¡å‡†ç¡®
- [ ] å›¾è¡¨æ˜¾ç¤ºæ­£å¸¸
- [ ] Excelå¯¼å‡ºæˆåŠŸ
- [ ] PDFå¯¼å‡ºæˆåŠŸ(å›¾ç‰‡åµŒå…¥)

### ç¬¬9å¤©æ£€æŸ¥é¡¹
- [ ] ç³»ç»Ÿé…ç½®èƒ½ä¿å­˜å’Œè¯»å–
- [ ] é‚®ä»¶æµ‹è¯•åŠŸèƒ½æ­£å¸¸
- [ ] æ“ä½œæ—¥å¿—æŸ¥è¯¢æ­£å¸¸
- [ ] æ—¥å¿—å¯¼å‡ºæˆåŠŸ

### ç¬¬10å¤©æ£€æŸ¥é¡¹
- [ ] ç™»å½•é¡µé¢æ˜¾ç¤ºæ­£å¸¸
- [ ] å‘˜å·¥ç«¯æ‰€æœ‰é¡µé¢åŠŸèƒ½æ­£å¸¸
- [ ] ç®¡ç†å‘˜ç«¯æ‰€æœ‰é¡µé¢åŠŸèƒ½æ­£å¸¸
- [ ] ç§»åŠ¨ç«¯é€‚é…æ­£å¸¸

### ç¬¬11å¤©æ£€æŸ¥é¡¹
- [ ] Dockeré•œåƒæ„å»ºæˆåŠŸ
- [ ] docker-composeå¯åŠ¨æˆåŠŸ
- [ ] Nginxåå‘ä»£ç†æ­£å¸¸
- [ ] é€šè¿‡æµè§ˆå™¨èƒ½è®¿é—®ç³»ç»Ÿ

---

## ğŸ“ å®Œæ•´æ–‡æ¡£ç´¢å¼•

ä¸ºäº†è®©æ‚¨å’ŒCursoré«˜æ•ˆåä½œ,æˆ‘å·²å°†å®Œæ•´æ–‡æ¡£æ‹†åˆ†ä¸ºä»¥ä¸‹éƒ¨åˆ†:

### ğŸ“„ æ–‡æ¡£A: æ•°æ®åº“å®Œæ•´SQL (å¿…è¯»)
```sql
-- åŒ…å«8å¼ è¡¨çš„å®Œæ•´å»ºè¡¨è¯­å¥
-- æ‰€æœ‰ç´¢å¼•å®šä¹‰
-- åˆå§‹æ•°æ®INSERTè¯­å¥
-- è¿œç¨‹æ•°æ®åº“hr_syncè¡¨ç»“æ„è¯´æ˜
```

### ğŸ“„ æ–‡æ¡£B: APIæ¥å£å®Œæ•´å®šä¹‰ (å¿…è¯»)
```
åŒ…å«40+ä¸ªAPIæ¥å£:
- è¯·æ±‚æ–¹å¼ã€URLã€å‚æ•°
- è¯·æ±‚ä½“JSONç¤ºä¾‹
- å“åº”ä½“JSONç¤ºä¾‹
- é”™è¯¯ç å®šä¹‰
```

### ğŸ“„ æ–‡æ¡£C: OCRé›†æˆè¯¦ç»†è¯´æ˜
```
OCRæœåŠ¡ä¿¡æ¯:
- URL: http://10.11.100.238:8081/predict
- è¯·æ±‚æ–¹å¼: POST multipart/form-data
- å­—æ®µå: image
- è¿”å›JSONç»“æ„
- å­—æ®µè§£æé€»è¾‘
```

### ğŸ“„ æ–‡æ¡£D: é’‰é’‰é›†æˆè¯¦ç»†è¯´æ˜
```
é’‰é’‰APIé›†æˆ:
- è·å–access_token
- æ ¹æ®æ‰‹æœºå·è·å–userid
- å‘é€å·¥ä½œé€šçŸ¥(markdownæ ¼å¼)
- é”™è¯¯å¤„ç†
```

### ğŸ“„ æ–‡æ¡£E: é‚®ä»¶é…ç½®è¯´æ˜
```
SMTPé…ç½®:
- æœåŠ¡å™¨: mail.microport.com:25
- å‘ä»¶äºº: APsysadmin@accupathmed.com
- é‚®ä»¶æ¨¡æ¿å˜é‡æ›¿æ¢
```

### ğŸ“„ æ–‡æ¡£F: å‰ç«¯é¡µé¢å¸ƒå±€è®¾è®¡
```
11ä¸ªé¡µé¢çš„è¯¦ç»†è®¾è®¡:
- é¡µé¢å¸ƒå±€å›¾
- äº¤äº’æµç¨‹
- APIè°ƒç”¨è¯´æ˜
- ç§»åŠ¨ç«¯é€‚é…è¦æ±‚
```

---

## ğŸ“ ç»™Cursorçš„å…·ä½“ä½¿ç”¨å»ºè®®

### æ­£ç¡®çš„å¯¹è¯æ–¹å¼

**ç¤ºä¾‹1: å¼€å§‹ç¬¬ä¸€ä¸ªæç¤ºè¯**
```
ä½ : "è¯·ä¸¥æ ¼æŒ‰ç…§ä»¥ä¸‹è¦æ±‚åˆ›å»ºSpring Booté¡¹ç›®ç»“æ„..."
[ç²˜è´´å®Œæ•´çš„æç¤ºè¯1-1]

Cursor: [åˆ›å»ºé¡¹ç›®ç»“æ„å’Œpom.xml]

ä½ : "è¯·æ£€æŸ¥pom.xmlä¸­çš„ä¾èµ–ç‰ˆæœ¬æ˜¯å¦ä¸è¦æ±‚ä¸€è‡´"

Cursor: [æ£€æŸ¥å¹¶ç¡®è®¤]

ä½ : "å¥½çš„,è¯·ç»§ç»­ä¸‹ä¸€ä¸ªæç¤ºè¯"
[ç²˜è´´æç¤ºè¯1-2]
```

**ç¤ºä¾‹2: å‘ç°é—®é¢˜æ—¶**
```
ä½ : "OCRè°ƒç”¨å¤±è´¥,è¯·æ£€æŸ¥OkHttp3çš„ä½¿ç”¨æ˜¯å¦æ­£ç¡®"

Cursor: [æ£€æŸ¥ä»£ç ]

ä½ : "è¯·ä¸¥æ ¼æŒ‰ç…§ä»¥ä¸‹OCRæ¥å£æ–‡æ¡£ä¿®æ”¹ä»£ç ,ä¸è¦è‡ªå·±çŒœæµ‹"
[ç²˜è´´OCRæ–‡æ¡£Cçš„å®Œæ•´å†…å®¹]
```

**ç¤ºä¾‹3: éªŒè¯åŠŸèƒ½**
```
ä½ : "ç™»å½•åŠŸèƒ½å·²å®Œæˆ,è¯·å‘Šè¯‰æˆ‘å¦‚ä½•æµ‹è¯•"

Cursor: [æä¾›æµ‹è¯•æ­¥éª¤]

ä½ : "æµ‹è¯•é€šè¿‡,è¯·ç»§ç»­å®ç°ä¸‹ä¸€ä¸ªåŠŸèƒ½"
[ç²˜è´´ä¸‹ä¸€ä¸ªæç¤ºè¯]
```

### é”™è¯¯çš„å¯¹è¯æ–¹å¼

âŒ **é”™è¯¯1: ä¸€æ¬¡æ€§è¦æ±‚å¤ªå¤š**
```
ä½ : "è¯·å¸®æˆ‘å®Œæˆæ•´ä¸ªé¡¹ç›®"  // å¤ªç¬¼ç»Ÿ,Cursorä¼šè‡ªå·±å‘æŒ¥
```

âŒ **é”™è¯¯2: è®©Cursorè‡ªå·±å†³å®š**
```
ä½ : "è¯·ä¼˜åŒ–ä¸€ä¸‹æ•°æ®åº“è®¾è®¡"  // ä¸è¦è®©å®ƒè‡ªå·±ä¼˜åŒ–
```

âŒ **é”™è¯¯3: ä¿®æ”¹éœ€æ±‚**
```
ä½ : "æˆ‘è§‰å¾—åº”è¯¥åŠ ä¸ªæƒé™ç®¡ç†ç³»ç»Ÿ"  // ä¸è¦æ·»åŠ æ–°éœ€æ±‚
```

âŒ **é”™è¯¯4: è·³è¿‡æ­¥éª¤**
```
ä½ : "å…ˆä¸ç®¡è®¤è¯,ç›´æ¥åšå¥åº·è¯ç®¡ç†"  // ä¸è¦è·³æ­¥
```

---

## ğŸ› å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

### é—®é¢˜1: Cursorè¯´"æˆ‘å»ºè®®ä½¿ç”¨Spring Security"

**è§£å†³æ–¹æ¡ˆ**:
```
æ˜ç¡®å‘Šè¯‰Cursor:
"ä¸è¦ä½¿ç”¨Spring Security,æœ¬é¡¹ç›®ä½¿ç”¨ç®€å•çš„JWTè®¤è¯ã€‚
è¯·ä¸¥æ ¼æŒ‰ç…§æç¤ºè¯å®ç°,ä¸è¦å»ºè®®å…¶ä»–æŠ€æœ¯æ–¹æ¡ˆã€‚"
```

### é—®é¢˜2: Cursoræ·»åŠ äº†é¢å¤–çš„åŠŸèƒ½

**è§£å†³æ–¹æ¡ˆ**:
```
"è¯·åˆ é™¤æ‰€æœ‰æœªåœ¨æç¤ºè¯ä¸­è¦æ±‚çš„åŠŸèƒ½ã€‚
åªä¿ç•™æç¤ºè¯æ˜ç¡®è¦æ±‚çš„ä»£ç ã€‚"
```

### é—®é¢˜3: OCRè°ƒç”¨å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:
```
1. æ£€æŸ¥ç½‘ç»œæ˜¯å¦èƒ½è®¿é—®10.11.100.238:8081
2. æ£€æŸ¥OkHttp3è¯·æ±‚æ˜¯å¦æ­£ç¡®(Content-Type: multipart/form-data)
3. æ£€æŸ¥å­—æ®µåæ˜¯å¦ä¸º"image"
4. æ·»åŠ è¯¦ç»†çš„æ—¥å¿—è¾“å‡º
5. å¦‚æœOCRæœåŠ¡ä¸å¯ç”¨,å…è®¸æ‰‹åŠ¨å¡«å†™
```

### é—®é¢˜4: è¿œç¨‹æ•°æ®åº“è¿æ¥å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:
```
1. æ£€æŸ¥ç½‘ç»œæ˜¯å¦èƒ½è®¿é—®10.11.100.202:3306
2. æ£€æŸ¥ç”¨æˆ·åå¯†ç æ˜¯å¦æ­£ç¡®(root/Mtdb@123)
3. æ£€æŸ¥æ•°æ®æºé…ç½®æ˜¯å¦æ­£ç¡®
4. æ·»åŠ è¿æ¥è¶…æ—¶å’Œé‡è¯•æœºåˆ¶
```

### é—®é¢˜5: å‰ç«¯æ— æ³•è®¿é—®åç«¯API

**è§£å†³æ–¹æ¡ˆ**:
```
1. æ£€æŸ¥CORSé…ç½®æ˜¯å¦ç”Ÿæ•ˆ
2. æ£€æŸ¥JWT tokenæ˜¯å¦æ­£ç¡®æ·»åŠ åˆ°è¯·æ±‚å¤´
3. æ£€æŸ¥Nginxé…ç½®æ˜¯å¦æ­£ç¡®è½¬å‘/apiè¯·æ±‚
4. ä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·æŸ¥çœ‹ç½‘ç»œè¯·æ±‚
```

### é—®é¢˜6: Dockerå®¹å™¨å¯åŠ¨å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:
```
1. æ£€æŸ¥docker-compose.ymlè¯­æ³•
2. æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨
3. æ£€æŸ¥æ•°æ®åº“åˆå§‹åŒ–SQLæ˜¯å¦æ­£ç¡®
4. æŸ¥çœ‹å®¹å™¨æ—¥å¿—: docker-compose logs -f
```

---

## ğŸ“Š å¼€å‘è¿›åº¦è·Ÿè¸ªè¡¨

| é˜¶æ®µ | ä»»åŠ¡ | é¢„è®¡å¤©æ•° | å®ŒæˆçŠ¶æ€ | å¤‡æ³¨ |
|------|------|----------|----------|------|
| 1 | é¡¹ç›®åˆå§‹åŒ– | 1å¤© | â˜ | é¡¹ç›®ç»“æ„ã€åŸºç¡€é…ç½® |
| 2 | å®ä½“å’ŒMapper | 1å¤© | â˜ | 8ä¸ªå®ä½“ç±»ã€åŒæ•°æ®æº |
| 3 | è®¤è¯æˆæƒ | 1å¤© | â˜ | JWTã€ç™»å½•ã€æ‹¦æˆªå™¨ |
| 4 | å¥åº·è¯ç®¡ç† | 2å¤© | â˜ | ä¸Šä¼ ã€OCRã€å®¡æ ¸ |
| 5 | å‘˜å·¥åŒæ­¥ | 1å¤© | â˜ | å®šæ—¶åŒæ­¥ã€éƒ¨é—¨æ ‘ |
| 6 | æé†’æœåŠ¡ | 1å¤© | â˜ | é‚®ä»¶ã€é’‰é’‰ã€å®šæ—¶ä»»åŠ¡ |
| 7 | æ•°æ®çœ‹æ¿ | 1å¤© | â˜ | ç»Ÿè®¡ã€å›¾è¡¨ã€å¯¼å‡º |
| 8 | ç³»ç»Ÿé…ç½® | 1å¤© | â˜ | é…ç½®ç®¡ç†ã€æ“ä½œæ—¥å¿— |
| 9 | å‰ç«¯é¡µé¢ | 2å¤© | â˜ | 11ä¸ªé¡µé¢ã€ç§»åŠ¨ç«¯é€‚é… |
| 10 | Dockeréƒ¨ç½² | 1å¤© | â˜ | Dockerfileã€docker-compose |
| 11 | æµ‹è¯•éªŒæ”¶ | 1å¤© | â˜ | åŠŸèƒ½æµ‹è¯•ã€ä¿®å¤bug |

**æ€»è®¡**: é¢„è®¡11ä¸ªå·¥ä½œæ—¥

---

## âœ… æœ€ç»ˆéªŒæ”¶æ ‡å‡†

### åŠŸèƒ½éªŒæ”¶

- [ ] å‘˜å·¥èƒ½ç”¨è¿œç¨‹åº“è´¦å·ç™»å½•
- [ ] ç®¡ç†å‘˜èƒ½ç”¨æœ¬åœ°è´¦å·admin/admin123ç™»å½•
- [ ] å‘˜å·¥èƒ½ä¸Šä¼ å¥åº·è¯,OCRè‡ªåŠ¨è¯†åˆ«
- [ ] ç®¡ç†å‘˜èƒ½å®¡æ ¸å¥åº·è¯,é”å®šæœºåˆ¶æ­£å¸¸
- [ ] å‘˜å·¥æ•°æ®èƒ½å®šæ—¶åŒæ­¥(0:00/12:00/18:00)
- [ ] å¥åº·è¯åˆ°æœŸæé†’èƒ½å‡†æ—¶å‘é€(æ¯å¤©9ç‚¹)
- [ ] é‚®ä»¶å’Œé’‰é’‰æ¶ˆæ¯èƒ½æ­£å¸¸å‘é€
- [ ] æ— é‚®ç®±å‘˜å·¥æé†’èƒ½å‘ç»™ä¸»ç®¡
- [ ] æ•°æ®çœ‹æ¿ç»Ÿè®¡å‡†ç¡®,å›¾è¡¨æ˜¾ç¤ºæ­£å¸¸
- [ ] èƒ½å¯¼å‡ºExcelå’ŒPDF(å›¾ç‰‡åµŒå…¥)
- [ ] ç³»ç»Ÿé…ç½®èƒ½ä¿å­˜å’Œç”Ÿæ•ˆ
- [ ] æ“ä½œæ—¥å¿—è®°å½•å®Œæ•´
- [ ] ç§»åŠ¨ç«¯å‘˜å·¥åŠŸèƒ½èƒ½æ­£å¸¸ä½¿ç”¨
- [ ] Dockeréƒ¨ç½²èƒ½ä¸€é”®å¯åŠ¨

### æ€§èƒ½éªŒæ”¶

- [ ] ç™»å½•å“åº”æ—¶é—´ < 500ms
- [ ] OCRè¯†åˆ«æ—¶é—´ < 15ç§’
- [ ] å‘˜å·¥åŒæ­¥(1000äºº) < 90ç§’
- [ ] æ•°æ®çœ‹æ¿åŠ è½½ < 3ç§’
- [ ] ç³»ç»Ÿèƒ½ç¨³å®šè¿è¡Œ24å°æ—¶

### ä»£ç è´¨é‡éªŒæ”¶

- [ ] æ‰€æœ‰ç±»å’Œæ–¹æ³•éƒ½æœ‰ä¸­æ–‡æ³¨é‡Š
- [ ] ä»£ç ç»“æ„æ¸…æ™°,ç¬¦åˆæ–‡æ¡£è®¾è®¡
- [ ] æ²¡æœ‰æ·»åŠ æ–‡æ¡£å¤–çš„åŠŸèƒ½
- [ ] å¼‚å¸¸å¤„ç†å®Œå–„
- [ ] æ—¥å¿—è®°å½•å®Œæ•´
- [ ] SQLæŸ¥è¯¢ä½¿ç”¨äº†ç´¢å¼•

---

## ğŸš€ å¯åŠ¨Cursorå¼€å‘çš„æ­¥éª¤

### Step 1: å‡†å¤‡å·¥ä½œ
1. å®‰è£…Dockerå’ŒDocker Compose
2. ç¡®ä¿ç½‘ç»œèƒ½è®¿é—®è¿œç¨‹æ•°æ®åº“(10.11.100.202)
3. ç¡®ä¿ç½‘ç»œèƒ½è®¿é—®OCRæœåŠ¡(10.11.100.238:8081)
4. å‡†å¤‡æµ‹è¯•ç”¨çš„å¥åº·è¯å›¾ç‰‡(test1.jpg, test2.jpg)

### Step 2: åˆå§‹åŒ–é¡¹ç›®
1. åˆ›å»ºé¡¹ç›®æ ¹ç›®å½•: `mkdir health-cert-system && cd health-cert-system`
2. åˆ›å»ºå­ç›®å½•: `mkdir backend frontend docker`
3. æ‰“å¼€Cursor,åŠ è½½é¡¹ç›®ç›®å½•

### Step 3: å¼€å§‹å¼€å‘
1. **å¤åˆ¶æç¤ºè¯1-1åˆ°Cursor**,ç­‰å¾…å®Œæˆ
2. **éªŒè¯**: é¡¹ç›®èƒ½ç¼–è¯‘,ä¾èµ–ä¸‹è½½å®Œæˆ
3. **å¤åˆ¶æç¤ºè¯1-2åˆ°Cursor**,ç­‰å¾…å®Œæˆ
4. **éªŒè¯**: èƒ½å¯åŠ¨Spring Boot,è®¿é—®localhost:8080
5. **ç»§ç»­æŒ‰é¡ºåºæ‰§è¡Œåç»­æç¤ºè¯**

### Step 4: ä¸­é€”æ£€æŸ¥
- æ¯å®Œæˆä¸€ä¸ªé˜¶æ®µ,è¿è¡Œå¹¶æµ‹è¯•åŠŸèƒ½
- å‘ç°é—®é¢˜ç«‹å³ä¿®å¤,ä¸è¦ç§¯ç´¯é—®é¢˜
- ä½¿ç”¨Postmanæµ‹è¯•APIæ¥å£
- ä½¿ç”¨æµè§ˆå™¨æµ‹è¯•å‰ç«¯é¡µé¢

### Step 5: æœ€ç»ˆéƒ¨ç½²
1. åˆ›å»ºDockeré…ç½®æ–‡ä»¶
2. è¿è¡Œ`docker-compose up --build`
3. è®¿é—®`http://localhost`
4. ä½¿ç”¨admin/admin123ç™»å½•æµ‹è¯•

### Step 6: äº¤ä»˜éªŒæ”¶
1. å®Œæ•´æµ‹è¯•æ‰€æœ‰åŠŸèƒ½(å‚è€ƒæµ‹è¯•æ–‡æ¡£)
2. å‡†å¤‡æ¼”ç¤ºææ–™
3. ç¼–å†™ä½¿ç”¨æ‰‹å†Œ
4. äº¤ä»˜æºç å’Œéƒ¨ç½²åŒ…

---

## ğŸ“ æŠ€æœ¯æ”¯æŒå’Œé—®é¢˜åé¦ˆ

### å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜?

**ä¼˜å…ˆçº§1 - é˜»å¡æ€§é—®é¢˜**:
- é¡¹ç›®æ— æ³•å¯åŠ¨
- æ•°æ®åº“è¿æ¥å¤±è´¥
- Dockeréƒ¨ç½²å¤±è´¥
- æ ¸å¿ƒåŠŸèƒ½æ— æ³•å®ç°

**ä¼˜å…ˆçº§2 - åŠŸèƒ½æ€§é—®é¢˜**:
- OCRè¯†åˆ«ä¸å‡†ç¡®
- é‚®ä»¶/é’‰é’‰å‘é€å¤±è´¥
- å®šæ—¶ä»»åŠ¡æœªè§¦å‘
- å‰ç«¯é¡µé¢æ˜¾ç¤ºå¼‚å¸¸

**ä¼˜å…ˆçº§3 - ä¼˜åŒ–æ€§é—®é¢˜**:
- æ€§èƒ½ä¸è¾¾æ ‡
- UIä¸å¤Ÿç¾è§‚
- ç”¨æˆ·ä½“éªŒå¾…ä¼˜åŒ–

### é—®é¢˜åé¦ˆæ¨¡æ¿

```markdown
## é—®é¢˜æè¿°
[æ¸…æ¥šæè¿°é‡åˆ°çš„é—®é¢˜]

## å¤ç°æ­¥éª¤
1. 
2. 
3. 

## é¢„æœŸç»“æœ
[åº”è¯¥æ˜¯ä»€ä¹ˆæ ·]

## å®é™…ç»“æœ
[å®é™…æ˜¯ä»€ä¹ˆæ ·]

## ç¯å¢ƒä¿¡æ¯
- æ“ä½œç³»ç»Ÿ:
- Javaç‰ˆæœ¬:
- MySQLç‰ˆæœ¬:
- Dockerç‰ˆæœ¬:

## å·²å°è¯•çš„è§£å†³æ–¹æ¡ˆ
1. 
2. 

## é”™è¯¯æ—¥å¿—
```
[ç²˜è´´é”™è¯¯æ—¥å¿—]
```
```

---

## ğŸ‰ å¼€å‘å®Œæˆåçš„ä¸‹ä¸€æ­¥

### 1. ç”¨æˆ·åŸ¹è®­
- [ ] å‡†å¤‡å‘˜å·¥ä½¿ç”¨æ‰‹å†Œ
- [ ] å‡†å¤‡ç®¡ç†å‘˜æ“ä½œæ‰‹å†Œ
- [ ] å½•åˆ¶æ“ä½œæ¼”ç¤ºè§†é¢‘
- [ ] ç»„ç»‡åŸ¹è®­ä¼šè®®

### 2. ä¸Šçº¿å‡†å¤‡
- [ ] å¤‡ä»½ç°æœ‰æ•°æ®(å¦‚æœ‰)
- [ ] é…ç½®ç”Ÿäº§ç¯å¢ƒæœåŠ¡å™¨
- [ ] é…ç½®åŸŸåå’ŒSSLè¯ä¹¦
- [ ] è®¾ç½®æ•°æ®åº“å®šæœŸå¤‡ä»½
- [ ] é…ç½®ç³»ç»Ÿç›‘æ§å’Œå‘Šè­¦

### 3. è¯•è¿è¡Œ
- [ ] å°èŒƒå›´è¯•ç”¨(10-20äºº)
- [ ] æ”¶é›†åé¦ˆæ„è§
- [ ] ä¿®å¤å‘ç°çš„é—®é¢˜
- [ ] ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ

### 4. æ­£å¼ä¸Šçº¿
- [ ] å…¨å‘˜é€šçŸ¥ç³»ç»Ÿä¸Šçº¿
- [ ] å¯¼å…¥å‘˜å·¥æ•°æ®
- [ ] ç›‘æ§ç³»ç»Ÿè¿è¡ŒçŠ¶æ€
- [ ] å¿«é€Ÿå“åº”ç”¨æˆ·é—®é¢˜

### 5. æŒç»­æ”¹è¿›
- [ ] æ”¶é›†ç”¨æˆ·åé¦ˆ
- [ ] ç»Ÿè®¡ä½¿ç”¨æ•°æ®
- [ ] è§„åˆ’æ–°åŠŸèƒ½
- [ ] å®šæœŸä¼˜åŒ–æ€§èƒ½

---

## ğŸ“š é™„å½•: å…³é”®ä»£ç ç¤ºä¾‹

### ç¤ºä¾‹1: JWTå·¥å…·ç±»æ ¸å¿ƒä»£ç 

```java
/**
 * JWTå·¥å…·ç±»
 */
public class JwtUtil {
    
    @Value("${jwt.secret}")
    private String secret;
    
    @Value("${jwt.expiration}")
    private Long expiration;
    
    /**
     * ç”ŸæˆToken
     */
    public String generateToken(Long userId, String username, String userType) {
        Map<String, Object> claims = new HashMap<>();
        claims.put("userId", userId);
        claims.put("username", username);
        claims.put("userType", userType);
        
        return Jwts.builder()
                .setClaims(claims)
                .setExpiration(new Date(System.currentTimeMillis() + expiration))
                .signWith(SignatureAlgorithm.HS512, secret)
                .compact();
    }
    
    /**
     * ä»Tokenè·å–ç”¨æˆ·ID
     */
    public Long getUserIdFromToken(String token) {
        Claims claims = getClaimsFromToken(token);
        return claims.get("userId", Long.class);
    }
    
    // ... å…¶ä»–æ–¹æ³•
}
```

### ç¤ºä¾‹2: OCRæœåŠ¡è°ƒç”¨æ ¸å¿ƒä»£ç 

```java
/**
 * OCRæœåŠ¡
 */
@Service
public class OcrService {
    
    @Value("${ocr.service.url}")
    private String ocrUrl;
    
    /**
     * è°ƒç”¨OCR APIè¯†åˆ«å¥åº·è¯
     */
    public OcrResultDTO callOcrApi(File imageFile) {
        try {
            OkHttpClient client = new OkHttpClient();
            
            RequestBody requestBody = new MultipartBody.Builder()
                    .setType(MultipartBody.FORM)
                    .addFormDataPart("image", imageFile.getName(),
                            RequestBody.create(imageFile, MediaType.parse("image/jpeg")))
                    .build();
            
            Request request = new Request.Builder()
                    .url(ocrUrl)
                    .post(requestBody)
                    .build();
            
            Response response = client.newCall(request).execute();
            String responseBody = response.body().string();
            
            return parseOcrResult(responseBody);
            
        } catch (Exception e) {
            log.error("OCRè¯†åˆ«å¤±è´¥", e);
            return new OcrResultDTO(); // è¿”å›ç©ºç»“æœ,å…è®¸æ‰‹åŠ¨å¡«å†™
        }
    }
    
    /**
     * è§£æOCRç»“æœ
     */
    private OcrResultDTO parseOcrResult(String json) {
        // è§£æJSON,æå–rec_textså­—æ®µ
        // ä»è¯†åˆ«æ–‡æœ¬ä¸­æå–å¥åº·è¯å„å­—æ®µ
        // è¿”å›ç»“æ„åŒ–æ•°æ®
    }
}
```

### ç¤ºä¾‹3: å‰ç«¯APIè°ƒç”¨å°è£…

```javascript
/**
 * APIè°ƒç”¨å°è£… (js/api.js)
 */
const API_BASE = '/api';

/**
 * å‘é€è¯·æ±‚
 */
async function request(url, options = {}) {
    // æ·»åŠ JWT token
    const token = localStorage.getItem('token');
    if (token) {
        options.headers = {
            ...options.headers,
            'Authorization': `Bearer ${token}`
        };
    }
    
    // å‘é€è¯·æ±‚
    const response = await fetch(API_BASE + url, options);
    const result = await response.json();
    
    // å¤„ç†401é”™è¯¯
    if (response.status === 401) {
        localStorage.removeItem('token');
        window.location.href = '/login.html';
        return;
    }
    
    // å¤„ç†ä¸šåŠ¡é”™è¯¯
    if (result.code !== 200) {
        throw new Error(result.message);
    }
    
    return result.data;
}

/**
 * ç™»å½•
 */
async function login(username, password) {
    return request('/auth/login', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ username, password })
    });
}

/**
 * ä¸Šä¼ å¥åº·è¯å›¾ç‰‡
 */
async function uploadHealthCert(file) {
    const formData = new FormData();
    formData.append('image', file);
    
    return request('/health-cert/upload', {
        method: 'POST',
        body: formData
    });
}
```

---

## ğŸ¯ æ€»ç»“: ç¡®ä¿CursoræˆåŠŸå¼€å‘çš„å…³é”®

### æœ€é‡è¦çš„3æ¡åŸåˆ™

1. **ä¸¥æ ¼æŒ‰æç¤ºè¯é¡ºåºæ‰§è¡Œ,ä¸è·³æ­¥**
2. **åªå®ç°æ˜ç¡®è¦æ±‚çš„åŠŸèƒ½,ä¸æ·»åŠ é¢å¤–å†…å®¹**
3. **æ¯ä¸ªé˜¶æ®µéªŒè¯é€šè¿‡å†ç»§ç»­**

### å¼€å‘æˆåŠŸçš„æ ‡å¿—

âœ… **åŠŸèƒ½å®Œæ•´**: æ‰€æœ‰éœ€æ±‚éƒ½å·²å®ç°  
âœ… **ä»£ç è§„èŒƒ**: ç»“æ„æ¸…æ™°,æ³¨é‡Šå®Œæ•´  
âœ… **è¿è¡Œç¨³å®š**: æ ¸å¿ƒåŠŸèƒ½æ— bug  
âœ… **éƒ¨ç½²é¡ºåˆ©**: Dockerä¸€é”®å¯åŠ¨  
âœ… **æ–‡æ¡£é½å…¨**: ä½¿ç”¨æ‰‹å†Œã€APIæ–‡æ¡£ã€éƒ¨ç½²æ–‡æ¡£å®Œæ•´  

---

**ç°åœ¨,æ‚¨å¯ä»¥å¼€å§‹ä½¿ç”¨Cursorå¼€å‘äº†!**

**ç¥å¼€å‘é¡ºåˆ©!** ğŸš€